(this.webpackJsonptreecolor=this.webpackJsonptreecolor||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var l=n(2),c=n.n(l),a=n(4),r=n.n(a),o=n(8),i=n(1),s=n(5),d=n(6),u=n(9),b=n(7),h=(n(14),function(e,t,n,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{label:e+"",level:t,left:null,right:null,parent:c,size:n,color:l,cx:0,cy:0}});function j(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=0,c=Math.pow(2,e-1),a=c*t+(c-1)*t,r=1,o=Object(i.a)(Object(i.a)({},h(l++,r,t,n)),{},{cx:a/2,cy:r*t-t/2}),s=[o],d=[o];d.length;){var u=d.shift();if(u.level+1<=e){var b=Math.pow(2,e-u.level-1)-1,j=(b+1)*t;u.left=Object(i.a)(Object(i.a)({},h(l++,u.level+1,t,n,u)),{},{cx:u.cx-j,cy:u.cy+t}),u.right=Object(i.a)(Object(i.a)({},h(l++,u.level+1,t,n,u)),{},{cx:u.cx+j,cy:u.cy+t}),d.push(u.left,u.right),s.push(u.left,u.right)}}return{width:a,height:e*t,nodes:s}}var f=n(0),x=function(e){var t=e.begin,n=e.end;return Object(f.jsx)("line",{x1:t.cx,y1:t.cy,x2:n.cx,y2:n.cy,stroke:"black"})},O=function(e){var t=e.node,n=e.selected,l=t.cx,c=t.cy,a=t.size,r=t.color,o=t.label,i=a/2-1;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("g",{className:"tree-node",children:[Object(f.jsx)("circle",{className:"tree-node_leaf",strokeWidth:2,stroke:n?"black":r,fill:r,cx:l,cy:c,r:i,"data-node-id":o}),Object(f.jsx)("text",{className:"tree-node_text",x:l,y:c,textAnchor:"middle",alignmentBaseline:"central","data-node-id":o,children:o})]})})},v=function(e){var t=e.nodes,n=e.width,c=e.height,a=e.selectedId,r=e.onNodeSelected,o=Object(l.useCallback)((function(e){e.target.dataset.nodeId?r(e.target.dataset.nodeId):r(null)}),[r]),i=t.filter((function(e){return!!e.parent})).map((function(e){return Object(f.jsx)(x,{begin:e.parent,end:e},e.label)})),s=t.map((function(e){return Object(f.jsx)(O,{node:e,selected:e.label===a},e.label)}));return Object(f.jsxs)("svg",{onClick:o,className:"tree",width:n+2,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 ".concat(n+2," ").concat(c+2),children:[i,s]})},p="#1E90FF",m=["#9370D8",p,"#DAA520","#FFC0CB","#90EE90"],g=function(e){var t=e.depth,n=e.color,c=e.onDepthChanged,a=e.onColorChanged,r=Object(l.useCallback)((function(){c(t+1)}),[c,t]),o=Object(l.useCallback)((function(){c(t-1)}),[c,t]);return Object(f.jsxs)("div",{className:"toolkit",children:[Object(f.jsx)("label",{htmlFor:"depth",children:"\u0413\u043b\u0443\u0431\u0438\u043d\u0430"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{disabled:1===t,onClick:o,children:"-"}),Object(f.jsx)("input",{name:"depth",type:"number",min:1,max:20,value:t,readOnly:!0}),Object(f.jsx)("button",{disabled:20===t,onClick:r,children:"+"})]}),Object(f.jsx)("label",{htmlFor:"color",children:"\u0426\u0432\u0435\u0442"}),Object(f.jsx)("div",{name:"color",children:m.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:e},className:"toolkit_color ".concat(n===e?"toolkit_color-selected":""),onClick:function(){return a(e)}},e)}))})]})},k=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var l;Object(s.a)(this,n),(l=t.call(this,e)).selectNode=function(e){return l.setState({selected:e})},l.setDepth=function(e){var t=j(e,25,l.state.color),n=null!==l.state.selected?t.nodes.find((function(e){return e.label===l.state.selected})):null;l.setState(Object(i.a)({selected:n?n.label:null,depth:e},t))},l.setColor=function(e){var t=l.state,n=t.selected,c=t.nodes;if(null!==n){var a=c.find((function(e){return e.label===n}));a&&(l.setState({color:e}),l.animate(e,a.label))}},l.animate=function(e,t){var n=null,c=l.state.nodes.map((function(l){return l.label!==t?l:n=Object(i.a)(Object(i.a)({},l),{},{color:e})}));n&&l.setState({nodes:c},(function(){var t=n.parent?l.state.nodes.find((function(e){return e.label===n.parent.label})):null,c=n.left?l.state.nodes.find((function(e){return e.label===n.left.label})):null,a=n.right?l.state.nodes.find((function(e){return e.label===n.right.label})):null;t&&t.color!==e&&setTimeout((function(){return l.animate(e,t.label)}),C()),c&&c.color!==e&&setTimeout((function(){return l.animate(e,c.label)}),C()),a&&a.color!==e&&setTimeout((function(){return l.animate(e,a.label)}),C())}))};var c=p;return l.state=Object(i.a)({selected:null,color:c,depth:2},j(2,25,c)),l}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.color,n=e.depth,l=e.selected,c=Object(o.a)(e,["color","depth","selected"]);return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(g,{color:t,depth:n,onColorChanged:this.setColor,onDepthChanged:this.setDepth}),Object(f.jsx)("div",{className:"tree-wrapper",children:Object(f.jsx)(v,Object(i.a)(Object(i.a)({},c),{},{selectedId:l,onNodeSelected:this.selectNode}))})]})}}]),n}(c.a.PureComponent),C=function(){var e=800+401*Math.random();return Math.floor(e)},y=k;n(16);r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.e85316ea.chunk.js.map